(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[180],{13014:function(e,t,r){Promise.resolve().then(r.bind(r,70572)),Promise.resolve().then(r.bind(r,35866)),Promise.resolve().then(r.bind(r,46225)),Promise.resolve().then(r.bind(r,55035))},70572:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return v}});var a=r(57437),i=r(2265),o=r(49050),n=r(22079),s=r(42834),l=r(26337),d=r(91797),c=r(22135),m=r(1274),u=r(40182),p=r(45421),x=r(87127),y=r(61865),h=r(93046),g=r(89701),b=r(35691),f=r(42307),j=r(24086),T=r(90517);function v(){let[e,t]=i.useState(!1),[r,v]=i.useState(!1),[E,Z]=i.useState("Enter Item Name"),[_,P]=i.useState("Enter product category"),w=(0,h.v9)(e=>e.shop_data.SHOP_DATA),k=(0,h.v9)(e=>e.product_data.PRODUCT_DATA),A=(0,h.v9)(e=>e.shop_data.CATEGORYS),C=(0,h.v9)(e=>e.user_data.USER_DATA),I=(0,c.Z)("(max-width:600px)"),N=(0,h.I0)(),S=b.Ry({name:b.Z_().transform(e=>e.toLowerCase()).required("Enter Product Name"),price:b.Rx().required("Enter Price"),cost:b.Rx().required("Enter Cost"),stock:b.Rx().required("Enter Stock Quantity"),alert:b.Rx().required("Enter Item Count"),modal:b.Z_(),warenty:b.Z_().required("Enter Item Warranty"),category:b.Z_().required("select category").transform(e=>e.toLowerCase())}),{register:R,handleSubmit:O,setValue:W,setError:D,reset:q,formState:{errors:U}}=(0,y.cI)({resolver:(0,g.X)(S)}),H=()=>{t(!1)},M=async e=>{let t=k.some(t=>t.name===e.name),a=A.some(t=>t.Name===e.category);if(t&&(D("name",{type:"manual",message:"Product name already exists"}),Z("Product name already exists")),r&&a&&(D("category",{type:"manual",message:"Product name already exists"}),P("Product category already exists")),!t){if(r){if(!a){let t=(0,j.JU)((0,j.ad)(),"shop",C.shop_id);await (0,j.r7)(t,{category:{...w.category,[e.category]:{Count:1}}}).then(()=>{let t=(0,f.N8)(),r=(0,f.VF)((0,f.iU)((0,f.iH)(t),"shop/"+C.shop_id)).key,a={...e,id:r},i={};i["/shop/"+C.shop_id+"/"+r]=a,(0,f.Vx)((0,f.iH)(t),i).then(()=>{N((0,T.mX)({open:!0,type:"success",msg:"New Product Added "})),q({name:"",price:"",cost:"",stock:"",alert:0,modal:"",warenty:"",category:""}),W("")}).catch(e=>{N((0,T.mX)({open:!0,type:"error",msg:e.message}))})}).catch(e=>{N((0,T.mX)({open:!0,type:"error",msg:e.message}))})}}else{let t=(0,j.JU)((0,j.ad)(),"shop",C.shop_id),r=A.find(t=>t.Name===e.category);await (0,j.r7)(t,{category:{...w.category,[e.category]:{Count:r.Count+1}}}).then(()=>{let t=(0,f.N8)(),r=(0,f.VF)((0,f.iU)((0,f.iH)(t),"shop/"+C.shop_id)).key,a={...e,id:r},i={};i["/shop/"+C.shop_id+"/"+r]=a,(0,f.Vx)((0,f.iH)(t),i).then(()=>{N((0,T.mX)({open:!0,type:"success",msg:"New Product Added "})),q({name:"",price:"",cost:"",stock:"",alert:0,modal:"",warenty:"",category:""})}),W("")}).catch(e=>{N((0,T.mX)({open:!0,type:"error",msg:e.message}))})}}};return(0,a.jsxs)(i.Fragment,{children:[(0,a.jsx)(o.Z,{sx:{mb:1},variant:"contained",onClick:()=>{t(!0)},children:"Add Items"}),(0,a.jsxs)(n.Z,{fullWidth:!0,open:e,onClose:H,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,a.jsx)(d.Z,{id:"alert-dialog-title",children:"Add new Item"}),(0,a.jsx)(l.Z,{children:(0,a.jsxs)("form",{onSubmit:O(e=>{M(e)}),className:"flex flex-col",children:[(0,a.jsxs)("div",{style:{display:"flex",flexDirection:I?"column":"row"},children:[(0,a.jsx)(m.Z,{fullWidth:!0,sx:{marginTop:"1em",marginRight:I?"0":"1em"},...R("name"),type:"text",id:"outlined-basic",label:"Item Name",variant:"outlined",error:!!U.name,helperText:U.name&&E}),(0,a.jsx)(m.Z,{fullWidth:!0,sx:{marginTop:"1em"},...R("price"),type:"number",id:"outlined-basic",label:"Price",variant:"outlined",error:!!U.price,helperText:U.price&&"Enter Item Price"})]}),(0,a.jsxs)("div",{style:{display:"flex",flexDirection:I?"column":"row"},children:[(0,a.jsx)(m.Z,{fullWidth:!0,sx:{marginTop:"1em",marginRight:I?"0":"1em"},...R("cost"),type:"number",id:"outlined-basic",label:"cost",variant:"outlined",error:!!U.cost,helperText:U.cost&&"Enter Item Cost"}),(0,a.jsx)(m.Z,{fullWidth:!0,sx:{marginTop:"1em"},...R("stock"),type:"number",id:"outlined-basic",label:"stock",variant:"outlined",error:!!U.stock,helperText:U.stock&&"Enter Item Quantity"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(u.Z,{control:(0,a.jsx)(p.Z,{checked:r,onChange:e=>{v(e.target.checked),W("category","")},inputProps:{"aria-label":"controlled"}}),label:"Add New Category"}),r?(0,a.jsx)("div",{children:(0,a.jsx)(m.Z,{fullWidth:!0,sx:{marginTop:"1em"},...R("category"),type:"text",id:"outlined-basic",label:"Create category Name",variant:"outlined",error:!!U.category,helperText:U.category&&_})}):(0,a.jsx)(x.Z,{sx:{marginTop:"1em"},fullWidth:!0,disablePortal:!0,id:"combo-box-demo",options:w.category?A.map(e=>e.Name):[],onChange:(e,t)=>{W("category",t)},renderInput:e=>(0,a.jsx)(m.Z,{error:!!U.category,helperText:U.category&&U.category.message,...e,label:"Select Category"})})]}),(0,a.jsx)(m.Z,{sx:{marginTop:"1em"},...R("alert"),id:"outlined-basic",label:"Alert Limit",variant:"outlined",type:"number",error:!!U.alert,helperText:U.alert&&"Enter Item Alert limit"}),(0,a.jsx)(m.Z,{sx:{marginTop:"1em"},...R("modal"),id:"outlined-basic",type:"text",label:"Modal",variant:"outlined",error:!!U.modal,helperText:U.alert&&"Enter Item modal"}),(0,a.jsx)(m.Z,{sx:{marginTop:"1em"},...R("warenty"),id:"outlined-basic",type:"text",label:"Warenty",variant:"outlined",error:!!U.warenty,helperText:U.warenty&&"Enter Item Warenty"}),(0,a.jsx)(o.Z,{sx:{marginTop:"1em"},type:"submit",variant:"contained",children:"Add Item"})]})}),(0,a.jsx)(s.Z,{children:(0,a.jsx)(o.Z,{onClick:H,children:"Close"})})]})]})}},35866:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return b}});var a=r(57437),i=r(2265),o=r(49050),n=r(22079),s=r(26337),l=r(91797),d=r(22135),c=r(1274),m=r(61865),u=r(93046),p=r(89701),x=r(35691),y=r(42307),h=r(90517),g=r(5226);function b(){let[e,t]=i.useState(!1),[r,b]=i.useState(!1),[f,j]=i.useState("Enter Item Name"),[T,v]=i.useState("Enter product category");(0,u.v9)(e=>e.shop_data.SHOP_DATA);let E=(0,u.v9)(e=>e.product_data.PRODUCT_DATA);(0,u.v9)(e=>e.shop_data.CATEGORYS);let Z=(0,u.v9)(e=>e.user_data.USER_DATA),_=(0,u.v9)(e=>e.edit_open.OPEN),P=(0,u.v9)(e=>e.edit_open.ITEM),w=(0,d.Z)("(max-width:600px)"),k=(0,u.I0)(),A=x.Ry({name:x.Z_().transform(e=>e.toLowerCase()).required("Enter Product Name"),price:x.Rx().required("Enter Price"),cost:x.Rx().required("Enter Cost"),stock:x.Rx().required("Enter Stock Quantity"),alert:x.Rx().required("Enter Item Count"),modal:x.Z_(),warenty:x.Z_().required("Enter Item Warranty"),category:x.Z_().required("select category").transform(e=>e.toLowerCase())}),{register:C,handleSubmit:I,setValue:N,setError:S,getValues:R,reset:O,formState:{errors:W}}=(0,m.cI)({resolver:(0,p.X)(A)});i.useEffect(()=>{_&&(N("name",P.name),N("price",P.price),N("cost",P.cost),N("stock",P.stock),N("alert",P.alert),N("modal",P.modal),N("warenty",P.warenty),N("category",P.category))},[_]);let D=async e=>{let t=E.filter(e=>e.name===P.name);if(1===t.length){let t=(0,y.N8)();(0,y.VF)((0,y.iU)((0,y.iH)(t),"shop/"+Z.shop_id)).key;let r={...e,id:P.id},a={};a["/shop/"+Z.shop_id+"/"+P.id]=r,(0,y.Vx)((0,y.iH)(t),a).then(()=>{k((0,h.mX)({open:!0,type:"success",msg:"New Product Added "})),O({name:"",price:"",cost:"",stock:"",alert:0,modal:"",warenty:"",category:""})})}t.length>1&&(S("name",{type:"manual",message:"Product name already exists"}),j("Product name already exists"))};return(0,a.jsx)(i.Fragment,{children:(0,a.jsxs)(n.Z,{fullWidth:!0,open:_,onClose:()=>{k((0,g.WJ)(!1)),O({name:"",price:"",cost:"",stock:"",alert:0,modal:"",warenty:"",category:""})},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,a.jsx)(l.Z,{id:"alert-dialog-title",children:"Add new Item"}),(0,a.jsx)(s.Z,{children:(0,a.jsxs)("form",{onSubmit:I(e=>{D(e)}),className:"flex flex-col",children:[(0,a.jsxs)("div",{style:{display:"flex",flexDirection:w?"column":"row"},children:[(0,a.jsx)(c.Z,{fullWidth:!0,sx:{marginTop:"1em",marginRight:w?"0":"1em"},...C("name"),type:"text",id:"outlined-basic",label:"Item Name",variant:"outlined",error:!!W.name,helperText:W.name&&f}),(0,a.jsx)(c.Z,{fullWidth:!0,sx:{marginTop:"1em"},...C("price"),type:"number",id:"outlined-basic",label:"Price",variant:"outlined",error:!!W.price,helperText:W.price&&"Enter Item Price"})]}),(0,a.jsxs)("div",{style:{display:"flex",flexDirection:w?"column":"row"},children:[(0,a.jsx)(c.Z,{fullWidth:!0,sx:{marginTop:"1em",marginRight:w?"0":"1em"},...C("cost"),type:"number",id:"outlined-basic",label:"cost",variant:"outlined",error:!!W.cost,helperText:W.cost&&"Enter Item Cost"}),(0,a.jsx)(c.Z,{fullWidth:!0,sx:{marginTop:"1em"},...C("stock"),type:"number",id:"outlined-basic",label:"stock",variant:"outlined",error:!!W.stock,helperText:W.stock&&"Enter Item Quantity"})]}),(0,a.jsx)(c.Z,{sx:{marginTop:"1em"},...C("alert"),id:"outlined-basic",label:"Alert Limit",variant:"outlined",type:"number",error:!!W.alert,helperText:W.alert&&"Enter Item Alert limit"}),(0,a.jsx)(c.Z,{sx:{marginTop:"1em"},...C("modal"),id:"outlined-basic",type:"text",label:"Modal",variant:"outlined",error:!!W.modal,helperText:W.alert&&"Enter Item modal"}),(0,a.jsx)(c.Z,{sx:{marginTop:"1em"},...C("warenty"),id:"outlined-basic",type:"text",label:"Warenty",variant:"outlined",error:!!W.warenty,helperText:W.warenty&&"Enter Item Warenty"}),(0,a.jsx)(o.Z,{sx:{marginTop:"1em"},type:"submit",variant:"contained",children:"Add Items"})]})})]})})}},46225:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return d}});var a=r(57437),i=r(90630),o=r(2265);function n(){return(0,a.jsx)("div",{children:"categoriTable"})}var s=r(27394),l=r(55035);function d(){let[e,t]=(0,o.useState)(0);return(0,a.jsxs)(i.O.Group,{children:[(0,a.jsxs)(i.O.List,{className:"border-2 w-44 flex border-grayLite shadow-lg  rounded-md",children:[(0,a.jsx)(i.O,{className:" w-full ui-selected:text-purple ui-selected:bg-purplelite font-semibold text-black",children:"Stocks"}),(0,a.jsx)(i.O,{className:"py-2 w-full ui-selected:text-purple ui-selected:bg-purplelite font-semibold text-black ",children:(0,a.jsx)(s.Z,{})})]}),(0,a.jsxs)(i.O.Panels,{children:[(0,a.jsx)(i.O.Panel,{children:(0,a.jsx)(l.default,{})}),(0,a.jsx)(i.O.Panel,{children:(0,a.jsx)(n,{})})]})]})}},55035:function(e,t,r){"use strict";r.r(t);var a=r(57437),i=r(2265),o=r(33457),n=r(93046),s=r(79245),l=r(78276),d=r(52653),c=r(14837),m=r(53216),u=r(5226),p=r(42307),x=r(24086);t.default=e=>{let{state:t,setState:r,setEdit:y,edit:h}=e,g=(0,n.v9)(e=>e.product_data.PRODUCT_DATA),b=(0,n.v9)(e=>e.product_data.loading),f=(0,n.v9)(e=>e.shop_data.SHOP_DATA),j=(0,n.v9)(e=>e.user_data.USER_DATA),T=(0,n.v9)(e=>e.shop_data.CATEGORYS),v=(0,n.I0)(),E=(0,i.useMemo)(()=>[{accessorKey:"name",header:"Product",size:150},{accessorKey:"price",header:"Price",size:150},{accessorKey:"stock",header:"Stock Quantity",size:150},{accessorKey:"category",header:"Sub Category",size:150}],[]);return(0,a.jsx)("div",{className:"w-screen2",children:(0,a.jsx)(o.P2,{state:{isLoading:b},columns:E,data:g,enableRowActions:!0,renderRowActions:e=>{let{row:t}=e;return(0,a.jsxs)(s.Z,{sx:{display:"flex",gap:"1rem"},children:[(0,a.jsx)(l.Z,{title:"Edit",children:(0,a.jsx)(d.Z,{onClick:()=>{v((0,u.WJ)(!0)),v((0,u.dR)(g[t.id]))},children:(0,a.jsx)(c.Z,{})})}),(0,a.jsx)(l.Z,{title:"Delete",children:(0,a.jsx)(d.Z,{color:"error",onClick:async()=>{let e=(0,x.JU)((0,x.ad)(),"shop",j.shop_id),r=T.find(e=>e.Name===g[t.id].category);console.log(r),await (0,x.r7)(e,{category:{...f.category,[r.Name]:{Count:r.Count-1}}}).then(()=>{let e=(0,p.iH)((0,p.N8)(),"shop/"+j.shop_id+"/"+g[t.id].id);(0,p.Od)(e).then(()=>{console.log("Data deleted successfully")}).catch(e=>{console.error("Error deleting data: ",e)})})},children:(0,a.jsx)(m.Z,{})})})]})}})})}},90517:function(e,t,r){"use strict";r.d(t,{At:function(){return o},mX:function(){return i}});let a=(0,r(39730).oM)({name:"snack_bar",initialState:{OPEN:!1,TYPE:"sucess",MSG:""},reducers:{openScackbar:(e,t)=>{let{open:r,type:a,msg:i}=t.payload;e.OPEN=r,e.TYPE=a,e.MSG=i},closeScackbar:e=>{e.OPEN=!1}}}),{openScackbar:i,closeScackbar:o}=a.actions;t.ZP=a.reducer},5226:function(e,t,r){"use strict";r.d(t,{WJ:function(){return o},dR:function(){return i}});let a=(0,r(39730).oM)({name:"edit_open",initialState:{OPEN:!1,ITEM:[]},reducers:{setItemData:(e,t)=>{e.ITEM=t.payload},editDialog:(e,t)=>{e.OPEN=t.payload}}}),{setItemData:i,editDialog:o}=a.actions;t.ZP=a.reducer}},function(e){e.O(0,[358,481,712,704,502,679,274,46,730,19,14,564,215,71,971,938,744],function(){return e(e.s=13014)}),_N_E=e.O()}]);